"use client";
import Image from "next/image";
import { useCollapseStore } from "@/providers/collapse-store-provider";
import financeLogo from "../../public/assets/images/logo-large.svg";
import smallFinanceLogo from "../../public/assets/images/logo-small.svg";
import Navlinks from "./navlinks";
import Icon from "./icon";

const Sidebar = () => {
  const { isCollapsed, toggleCollapse } = useCollapseStore((state) => state);

  const appLogo = isCollapsed ? smallFinanceLogo : financeLogo;

  const iconToShow = !isCollapsed
    ? "m14.0001 5.26002v8.99998c0 .1989-.079.3897-.2197.5304-.1406.1406-.3314.2196-.5303.2196h-2.25v3.75c.0001.1484-.0438.2936-.1262.417-.0824.1235-.1996.2197-.3367.2765s-.288.0717-.4336.0427c-.14554-.029-.27923-.1005-.38412-.2056l-9.000003-9c-.069733-.0696-.125052-.1523-.162795-.2434-.037743-.09102-.05717-.18862-.05717-.28718s.019427-.19615.05717-.2872.093062-.17377.162795-.24342l9.000003-9.000004c.10489-.105009.23858-.1765346.38412-.2055224.1456-.02898777.2965-.0141343.4336.0426801.1371.0568143.2543.1530353.3367.2764803s.1263.268565.1262.416987v3.749999h2.25c.1989 0 .3897.07902.5303.21967.1407.14065.2197.33142.2197.53033zm2.25-.75c-.1989 0-.3897.07902-.5303.21967-.1407.14065-.2197.33142-.2197.53033v8.99998c0 .1989.079.3897.2197.5304.1406.1406.3314.2196.5303.2196s.3897-.079.5303-.2196c.1407-.1407.2197-.3315.2197-.5304v-8.99998c0-.19891-.079-.38968-.2197-.53033-.1406-.14065-.3314-.21967-.5303-.21967zm3 0c-.1989 0-.3897.07902-.5303.21967-.1407.14065-.2197.33142-.2197.53033v8.99998c0 .1989.079.3897.2197.5304.1406.1406.3314.2196.5303.2196s.3897-.079.5303-.2196c.1407-.1407.2197-.3315.2197-.5304v-8.99998c0-.19891-.079-.38968-.2197-.53033-.1406-.14065-.3314-.21967-.5303-.21967z"
    : "M6.00002 14.5L6.00002 5.50002C6.00002 5.3011 6.07904 5.11034 6.21969 4.96969C6.36034 4.82903 6.55111 4.75002 6.75002 4.75002L9.00002 4.75002L9.00002 1.00002C8.99991 0.851594 9.04383 0.706473 9.12623 0.583028C9.20864 0.459582 9.32581 0.363364 9.46293 0.30655C9.60005 0.249736 9.75094 0.234882 9.8965 0.263869C10.0421 0.292857 10.1758 0.364381 10.2806 0.46939L19.2806 9.46939C19.3504 9.53905 19.4057 9.62176 19.4434 9.71281C19.4812 9.80386 19.5006 9.90146 19.5006 10C19.5006 10.0986 19.4812 10.1962 19.4434 10.2872C19.4057 10.3783 19.3504 10.461 19.2806 10.5306L10.2806 19.5306C10.1758 19.6357 10.0421 19.7072 9.8965 19.7362C9.75094 19.7652 9.60004 19.7503 9.46293 19.6935C9.32581 19.6367 9.20863 19.5405 9.12623 19.417C9.04383 19.2936 8.9999 19.1484 9.00002 19L9.00002 15.25L6.75002 15.25C6.55111 15.25 6.36034 15.171 6.21969 15.0303C6.07904 14.8897 6.00002 14.6989 6.00002 14.5ZM3.75002 15.25C3.94893 15.25 4.1397 15.171 4.28035 15.0303C4.421 14.8897 4.50002 14.6989 4.50002 14.5L4.50002 5.50002C4.50002 5.3011 4.42101 5.11034 4.28035 4.96969C4.1397 4.82903 3.94893 4.75002 3.75002 4.75002C3.55111 4.75002 3.36034 4.82903 3.21969 4.96969C3.07904 5.11034 3.00002 5.3011 3.00002 5.50002L3.00002 14.5C3.00002 14.6989 3.07904 14.8897 3.21969 15.0303C3.36034 15.171 3.55111 15.25 3.75002 15.25ZM0.750021 15.25C0.948933 15.25 1.1397 15.171 1.28035 15.0303C1.421 14.8897 1.50002 14.6989 1.50002 14.5L1.50002 5.50002C1.50002 5.3011 1.421 5.11034 1.28035 4.96968C1.1397 4.82903 0.948934 4.75002 0.750022 4.75002C0.551111 4.75002 0.360343 4.82903 0.219692 4.96968C0.0790399 5.11034 2.22441e-05 5.3011 2.22267e-05 5.50002L2.14399e-05 14.5C2.14225e-05 14.6989 0.079039 14.8897 0.219691 15.0303C0.360342 15.171 0.55111 15.25 0.750021 15.25Z";

  return (
    <section className="sidebar bg-[#201f24] h-screen rounded-r-lg relative hidden md:block">
      <div className="px-6 h-[6.36rem] flex items-center">
        <Image src={appLogo} alt="finance logo" priority />
      </div>
      <Navlinks isMinimized={isCollapsed} />

      <button
        onClick={toggleCollapse}
        className="absolute bottom-[3.64rem] px-6 flex items-center gap-4"
      >
        <Icon path={iconToShow} currentColor="#b3b3b3" />

        <span
          className={`transition-opacity duration-500 ease-in-out ${
            isCollapsed ? "opacity-0" : "opacity-100"
          }  text-[#b3b3b3]`}
        >
          minimize menu
        </span>
      </button>
    </section>
  );
};

export default Sidebar;
